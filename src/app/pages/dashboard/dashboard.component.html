<div class="space-y-8 text-white/85">
  <section class="grid gap-4 md:grid-cols-2 xl:grid-cols-3">
    <!-- Total Employees -->
    <article routerLink="/employee"
      class="group rounded-[28px] border border-sky-400/30 bg-gradient-to-br from-sky-500/25 via-sky-500/10 to-sky-500/5 p-6 shadow-[0_30px_80px_rgba(2,132,199,0.35)] transition hover:border-sky-300/50 cursor-pointer">
      <div class="flex items-start justify-between gap-4">
        <div>
          <p class="text-xs uppercase tracking-[0.45em] text-white/60">
            Total Employees
          </p>
          <p class="mt-3 text-3xl font-semibold text-white">
            {{ dashboardData.totalEmployee }}
          </p>
        </div>
      </div>
      <p class="mt-4 text-sm text-white/70">
        Track your entire organisation workforce across locations.
      </p>
    </article>

    <!-- Total Projects -->
    <article routerLink="/projects"
      class="group rounded-[28px] border border-emerald-400/30 bg-gradient-to-br from-emerald-500/25 via-emerald-500/10 to-emerald-500/5 p-6 shadow-[0_30px_80px_rgba(16,185,129,0.3)] transition hover:border-emerald-300/50 cursor-pointer">
      <div class="flex items-start justify-between gap-4">
        <div>
          <p class="text-xs uppercase tracking-[0.45em] text-white/60">
            Total Projects
          </p>
          <p class="mt-3 text-3xl font-semibold text-white">
            {{ dashboardData.totalProject }}
          </p>
        </div>
      </div>
      <p class="mt-4 text-sm text-white/70">
        Monitor project health and velocity with real-time status.
      </p>
    </article>

    <!-- Active Project Employees -->
    <article routerLink="/project-employee"
      class="group rounded-[28px] border border-amber-400/30 bg-gradient-to-br from-amber-500/30 via-amber-500/15 to-amber-500/5 p-6 shadow-[0_30px_80px_rgba(245,158,11,0.25)] transition hover:border-amber-300/60 cursor-pointer">
      <div class="flex items-start justify-between gap-4">
        <div>
          <p class="text-xs uppercase tracking-[0.45em] text-white/60">
            Active Project Employees
          </p>
          <p class="mt-3 text-3xl font-semibold text-white">
            {{ dashboardData.activeProjectEmployees }}
          </p>
        </div>
      </div>
      <p class="mt-4 text-sm text-white/70">
        Know exactly who is booked and where the next gaps appear.
      </p>
    </article>
  </section>

  <!-- Project Statistics Badges - Full Width Row -->
  <section class="rounded-2xl border border-white/10 bg-white/5 px-6 py-4 backdrop-blur-xl">
    <div class="flex flex-wrap gap-2 items-center">
      <span
        class="inline-flex items-center rounded-full bg-cyan-500/20 px-2 py-0.5 text-xs font-medium text-cyan-400 border border-cyan-500/30"
        title="Non-archived projects (used for all calculations below)">
        {{ projectStats.nonArchived }} Non-Archived
      </span>
      <span *ngIf="projectStats.archived > 0"
        class="inline-flex items-center rounded-full bg-gray-500/20 px-2 py-0.5 text-xs font-medium text-gray-400 border border-gray-500/30"
        title="Archived projects (excluded from calculations, display only)">
        {{ projectStats.archived }} Archived
      </span>
      <span
        class="inline-flex items-center rounded-full bg-green-500/20 px-2 py-0.5 text-xs font-medium text-green-400 border border-green-500/30"
        title="Projects with active assignments or leads">
        {{ projectStats.active }} Active
      </span>
      <span
        class="inline-flex items-center rounded-full bg-slate-500/20 px-2 py-0.5 text-xs font-medium text-slate-400 border border-slate-500/30"
        title="Projects with no active assignments and no lead">
        {{ projectStats.inactive }} Inactive
      </span>
      <span *ngIf="projectStats.planning > 0"
        class="inline-flex items-center rounded-full bg-blue-500/20 px-2 py-0.5 text-xs font-medium text-blue-400 border border-blue-500/30"
        title="Projects with lead but no active assignments (planning/startup phase)">
        {{ projectStats.planning }} Planning
      </span>
      <span *ngIf="projectStats.assigned > 0"
        class="inline-flex items-center rounded-full bg-purple-500/20 px-2 py-0.5 text-xs font-medium text-purple-400 border border-purple-500/30"
        title="Projects with active employee assignments">
        {{ projectStats.assigned }} Assigned
      </span>
      <span *ngIf="projectStats.nonAssigned > 0"
        class="inline-flex items-center rounded-full bg-orange-500/20 px-2 py-0.5 text-xs font-medium text-orange-400 border border-orange-500/30"
        title="Projects with no active employee assignments">
        {{ projectStats.nonAssigned }} Non-Assigned
      </span>
      <span
        class="inline-flex items-center rounded-full bg-emerald-500/20 px-2 py-0.5 text-xs font-medium text-emerald-400 border border-emerald-500/30"
        title="Active project-employee assignments">
        {{ projectStats.activeAssignments }} Active Assignments
      </span>
      <span *ngIf="projectStats.inactiveAssignments > 0"
        class="inline-flex items-center rounded-full bg-red-500/20 px-2 py-0.5 text-xs font-medium text-red-400 border border-red-500/30"
        title="Inactive project-employee assignments">
        {{ projectStats.inactiveAssignments }} Inactive Assignments
      </span>
    </div>
  </section>

  <!-- Latest Projects -->
  <section class="grid gap-6 lg:grid-cols-2">
    <article
      class="rounded-[28px] border border-white/10 bg-white/5/70 p-6 shadow-[0_35px_100px_rgba(8,12,32,0.55)] backdrop-blur-xl">
      <header class="flex items-center justify-between gap-4 pb-4">
        <div>
          <h2 class="text-lg font-semibold text-white">Latest Projects</h2>
          <p class="text-xs uppercase tracking-[0.35em] text-white/50">
            Recently Approved
          </p>
        </div>
        <span class="rounded-full border border-white/10 bg-white/10 px-3 py-1 text-xs font-medium text-white/70">
          {{ dashboardData.recentProjects?.length || 0 }} projects
        </span>
      </header>
      <ul class="space-y-2">
        <li *ngFor="let item of dashboardData.recentProjects; let i = index"
          class="flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/80 shadow-sm shadow-slate-950/20">
          <div class="flex items-center gap-3">
            <span
              class="flex h-8 w-8 items-center justify-center rounded-xl bg-white/15 text-xs font-semibold text-white/80">{{
              i + 1 }}</span>
            <span class="font-medium text-white">
              {{ item.projectName }}
            </span>
          </div>
          <span class="text-xs text-white/50">
            {{ item.projectStatus || "In progress" }}
          </span>
        </li>
        <li *ngIf="!dashboardData.recentProjects?.length"
          class="rounded-2xl border border-white/10 bg-white/5 px-4 py-8 text-center text-sm text-white/60">
          No recent projects recorded.
        </li>
      </ul>
    </article>

    <!-- New team members -->
    <article
      class="rounded-[28px] border border-white/10 bg-white/5/70 p-6 shadow-[0_35px_100px_rgba(8,12,32,0.55)] backdrop-blur-xl">
      <header class="flex items-center justify-between gap-4 pb-4">
        <div>
          <h2 class="text-lg font-semibold text-white">New team members</h2>
          <p class="text-xs uppercase tracking-[0.35em] text-white/50">
            Last 30 days
          </p>
        </div>
        <span class="rounded-full border border-white/10 bg-white/10 px-3 py-1 text-xs font-medium text-white/70">
          {{ dashboardData.recentEmployee?.length || 0 }} joined
        </span>
      </header>
      <ul class="space-y-2">
        <li *ngFor="let item of dashboardData.recentEmployee"
          class="flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/80 shadow-sm shadow-slate-950/20">
          <span class="font-medium text-white">
            {{ item.employeeName }}
          </span>
          <span class="text-xs text-white/50">
            {{ item.role || "New hire" }}
          </span>
        </li>
        <li *ngIf="!dashboardData.recentEmployee?.length"
          class="rounded-2xl border border-white/10 bg-white/5 px-4 py-8 text-center text-sm text-white/60">
          No new employees yet.
        </li>
      </ul>
    </article>
  </section>

  <section
    class="rounded-[28px] border border-white/10 bg-white/5/80 p-6 shadow-[0_35px_100px_rgba(8,12,32,0.5)] backdrop-blur-xl">
    <header class="mb-6 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
      <div>
        <h2 class="text-lg font-semibold text-white">Departments</h2>
        <p class="text-xs uppercase tracking-[0.35em] text-white/50">
          Parent divisions across the organisation
        </p>
      </div>
      <span class="rounded-full border border-white/10 bg-white/10 px-3 py-1 text-xs font-medium text-white/70">
        {{ parentDepartments.length || 0 }} departments
      </span>
    </header>

    <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      <div *ngFor="let dept of parentDepartments"
        class="group flex flex-col gap-3 rounded-2xl border border-white/10 bg-white/5 px-5 py-6 text-center shadow-sm shadow-slate-950/25 transition hover:border-primary/40 hover:bg-white/10">
        <div
          class="mx-auto flex h-16 w-16 items-center justify-center rounded-2xl border border-primary/30 bg-primary/10 shadow-[0_12px_30px_rgba(59,130,246,0.25)]">
          <img [src]="getDepartmentLogo(dept.departmentLogo, dept.departmentName)" [alt]="dept.departmentName"
            class="h-10 w-10 object-contain" />
        </div>
        <p class="text-sm font-semibold text-white">
          {{ dept.departmentName }}
        </p>
      </div>

      <div *ngIf="!parentDepartments.length"
        class="rounded-2xl border border-dashed border-white/15 bg-white/5 px-5 py-10 text-center text-sm text-white/60">
        No departments available.
      </div>
    </div>
  </section>
</div>